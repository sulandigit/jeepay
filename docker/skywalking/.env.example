# SkyWalking 环境配置文件
# 可根据不同环境（开发/测试/生产）复制并修改此文件

# ============================================
# SkyWalking OAP Server 配置
# ============================================

# OAP Server gRPC 地址（Agent 上报数据使用）
SW_AGENT_COLLECTOR_BACKEND_SERVICES=skywalking-oap:11800

# OAP Server HTTP 地址（UI 查询使用）
SW_OAP_ADDRESS=http://skywalking-oap:12800

# ============================================
# SkyWalking Agent 通用配置
# ============================================

# Agent 日志级别: DEBUG, INFO, WARN, ERROR
SW_LOGGING_LEVEL=INFO

# Agent 日志目录
SW_LOGGING_DIR=/opt/skywalking-agent/logs

# 采样率配置
# -1 或 0: 关闭采样，全量采集（开发/测试环境推荐）
# 正整数: 每3秒采样的链路数量（生产环境可设置为 3-10）
SW_AGENT_SAMPLE=-1

# 是否开启调试模式
# SW_AGENT_IS_CACHE_ENHANCED_CLASS=false

# ============================================
# jeepay-payment 服务配置
# ============================================
# 在 docker-compose.yml 中使用以下配置：
# environment:
#   JAVA_OPTS: "-javaagent:/opt/skywalking-agent/skywalking-agent.jar"
#   SW_AGENT_NAME: jeepay-payment
#   SW_AGENT_COLLECTOR_BACKEND_SERVICES: ${SW_AGENT_COLLECTOR_BACKEND_SERVICES}
#   SW_LOGGING_LEVEL: ${SW_LOGGING_LEVEL}

# ============================================
# jeepay-manager 服务配置
# ============================================
# environment:
#   JAVA_OPTS: "-javaagent:/opt/skywalking-agent/skywalking-agent.jar"
#   SW_AGENT_NAME: jeepay-manager
#   SW_AGENT_COLLECTOR_BACKEND_SERVICES: ${SW_AGENT_COLLECTOR_BACKEND_SERVICES}
#   SW_LOGGING_LEVEL: ${SW_LOGGING_LEVEL}

# ============================================
# jeepay-merchant 服务配置
# ============================================
# environment:
#   JAVA_OPTS: "-javaagent:/opt/skywalking-agent/skywalking-agent.jar"
#   SW_AGENT_NAME: jeepay-merchant
#   SW_AGENT_COLLECTOR_BACKEND_SERVICES: ${SW_AGENT_COLLECTOR_BACKEND_SERVICES}
#   SW_LOGGING_LEVEL: ${SW_LOGGING_LEVEL}

# ============================================
# 插件配置（可选）
# ============================================

# 禁用特定插件（多个插件用逗号分隔）
# SW_PLUGIN_EXCLUDE=tomcat-7.x-8.x-plugin

# 忽略的 URL 后缀（不采集静态资源）
# SW_AGENT_IGNORE_SUFFIX=.jpg,.jpeg,.js,.css,.png,.bmp,.gif,.ico,.mp3,.mp4,.html,.svg

# Span 数量限制（防止超大 Trace）
# SW_AGENT_SPAN_LIMIT_PER_SEGMENT=300

# ============================================
# 高级配置（谨慎修改）
# ============================================

# Agent 命名空间（用于多租户隔离）
# SW_AGENT_NAMESPACE=

# Agent 实例名称（默认自动生成）
# SW_AGENT_INSTANCE_NAME=

# 是否收集 SQL 参数
# SW_PLUGIN_JDBC_TRACE_SQL_PARAMETERS=false

# 是否收集 HTTP 参数
# SW_PLUGIN_HTTP_HTTP_PARAMS_LENGTH_THRESHOLD=2048
